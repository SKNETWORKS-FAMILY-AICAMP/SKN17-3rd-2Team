# SKN17-3rd-2Team
------
# 1️⃣ 팀 소개 
## 팀명 : ROOM MATE 
" 팀  소개 " 

## 팀원 소개 
| 김주서 | 김태완 | 성기혁 | 양송이 | 임산별 |
|:---:|:---:|:---:|:---:|:---:|
|  |  |  |  | |
|[@Subin-Ju](https://github.com/Subin-Ju)|[@Kicangel](https://github.com/Kicangel)|[@minjeon](https://github.com/minjeon)|[@use08168](https://github.com/use08168)|[@ImMountainStar](https://github.com/ImMountainStar)|


# 2️⃣ 프로젝트 개요 
## ✔️ 프로젝트 명 : 챗봇 이름 
청년과 신혼부부를 위한 주택청약 도우미 챗봇 

## ✔️ 프로젝트 소개 
사용자가 복잡한 청약 절차를 손쉽게 이해하고, 본인 조건에 맞는 물량과 주거지원까지 바로 확인할 수 있는 통합형 챗봇 서비스

## ✔️ 프로젝트 필요성 
#### 프로젝트 배경 : 상황분석
(1) 주택청약의 공급과 수요 증가 
> **청약통장 가입자, 2년 9개월 만에 증가…·청약 혜택 확대 통했나**  
> 3월 가입자 전월 대비 4435명 증가…
> 3기 신도시 기대감  
> 정부, 청년·신혼부부 청약 혜택 확대  
>  
> *박영규 기자, [이코노믹리뷰](https://www.econovill.com/news/articleView.html?idxno=693037), 2025.04.22 23:14*
> 
(2) 주택청약 제도의 복잡함으로 인한 사용자의 불편함 존재 
- 잦은 제도 개편과 복잡한 공급방식 및 자격 요건으로 복잡도 증가
- 다양한 공급방식과 공급처로 인해 정보가 산발적으로 존재함
=> 사용자의 주택청약 신청과정이 복잡함

<이미지> 

#### ✔️ 프로젝트 배경 : 문제 상황 
-  맞춤형 정보 접근성의 한계
-   할
2. .xlsx
- 테이블 형식의 데이터를 JSON 형식으로 변환 후, 각 행을 기준으로 분할

# 9️⃣ 테스트 계획서 및 결과서 

# 🔟 진행 과정 중 프로그램 개선 노력
😒개선 전 문제점
- Chunk내의 문맥이 유지 되지 않고, Chunk size가 적절하지 않아 응답의 질이 많이 떨어짐<br>
  <details>
  <summary> <b>해결 방법:</b> Chunking</summary> 
  RecursiveSplitter를 사용하면 chunk 안의 내용의 문맥이 이어지지 않는 경우가 많음 <br>
  먼저 SemanticChunker를 이용해 chunk 안의 내용의 문맥을 유지하게 만든 후, chunk size가 크다면 RecursiveSplitter를 이용해 chunk size를 줄이는 작업을 진행
</details>

- Vector DB 내에 유사한 문서들이 많이 존재해 원하는 문서를 가져오지 않음 <br>
  <details>
  <summary> <b>해결 방법:</b> 벡터 DB Collection 활용</summary>
  내용이 비슷한 문서 데이터 (신혼/신생아1 매입임대_모집공고문, 신혼/신생아2 매입임대_모집공고문)를 한 Collection 안에 저장할 경우, 잘못된 데이터를 가져오는 경우가 발생<br>
  또한 공실 데이터 문서 내에 단순 주소 데이터만 존재하기 때문에, 각 문서들을 특정할 수 없어 잘못된 데이터를 가져오는 경우가 발생 <br>
  따라서, 같은 자격 유형에 따라 Collection으로 분리한뒤 해당하는 문서 데이터들을 저장함으로서, 환각 현상 및 잘못된 데이터 로드 현상을 해결함 <br>
</details>

- 핵심 키워드 (예: 주소 정보; '강동구')를 감지 하지 못해 Hallucination이 발생 <br>
  <details>
  <summary> <b>해결 방법:</b> Metadata를 이용한 필터링</summary>
  사용자가 선호 지역에 대한 질의를 할 경우 (예:강동구에 있는 공실 주택 정보를 알려줘), '강동구'라는 핵심 키워드를 이용해 알맞은 데이터를 로드해야하는데, retriever가 이를 원만히 수행하지 못함 <br>
  따라서, metadata를 활용해 벡터 DB를 필터링하여, 직접 '강동구' 주택 정보를 가져오게끔 만듬
</details>

- Chat history가 계속 쌓여 나감에 따라, 프롬프트 길이가 증가해 응답 속도 저하 및 토큰 비용 증가함 <br>
  <details>
  <summary> <b>해결 방법:</b> Chat History 길이 제한</summary>
  필요성 : Context Window는 유한하기 때문에, 최근 6 턴만 대화내용 유지 <br>
  Hallucination 발생 가능성 증가 : 오래된 맥락이 남아 있으면, 모델이 불필요한 정보까지 섞어 답할 확률이 높아진다 <br>
  비용 및 속도 감소 : 프롬프트의 길이가 줄어 추론 시간이 단축 및 토큰 비용 절약 <br>
</details>

- '그 집 정보좀 줘'와 같은 짧고 모호한 질문을 이해하지 못함 <br>
  <details>
  <summary> <b>해결 방법:</b> 독립질문 설정</summary>
  대화 맥락에 의존하던 마지막 사용자 질문을, <b>문맥 없이도 이해 가능한 한 문장으로 재작성한 질문</b><br>
  그 집의 보증금은? 같은 질문은 맥락 없이 모호, 따라서 독립 질문으로 변환<br>
  <b>예시</b> <br>
  원문 : '그 집 보증금 정보를 알려줘?'<br>
  히스토리 요약 : 앞서 강서구 주소 정보 얘기중<br>
  독립 질문 : '강서구 아파트 보증금 정보를 알려줘'<br>
  효과 : 짧고 모호한 질문에 대해 응답의 질이 좋아진다 
</details>
  
# ⭐ 기대 효과
- 개인화된 상호작용 : 사용자 맥락을 반영해 맞춤형 주택 정보, 정책 및 대출 상품 제공
- 접근성 확대 : 사용자 상황 및 주택 위치에 따라 달라지는 정보들과 데이터가 모여 있지 않아 검색의 복잡함을 간단한 인터페이스를 통해 필요한 정보에 쉽게 접근 가능
  
# 🛠️향후 개선점
1. 서울 특별시 주택 정보에 국한된 것이 아닌 전국 주택 정보로 확장
2. 응답 속도 최적화
3. 파인 튜닝 진행

# 12. 수행결과 (테스트/시연 페이지)
